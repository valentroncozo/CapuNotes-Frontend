/* src/styles/table.css */

/* ================== BASE ================== */
.abmc-table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0 12px;
}

.abmc-thead th {
  background: var(--table-head-bg);
  color: var(--table-head-fg);
  font-weight: 700;
  padding: 12px 14px;
  text-align: left;
  border-radius: 0 !important;
  transition: background-color 0.2s ease;
}

.abmc-thead th:hover,
.abmc-thead th:focus,
.abmc-thead th:focus-within,
.abmc-thead th:active {
  background: var(--table-head-bg) !important;
  color: var(--table-head-fg) !important;
}

/* Filas */
.abmc-row { color: var(--text-light); background: var(--table-row); }
.abmc-row:nth-child(even) { background: var(--table-row-alt); }
.abmc-row td { padding: 14px; vertical-align: middle; }
.abmc-row:hover { background: var(--table-row-hover); }

.abmc-row td:first-child,
.abmc-row td:last-child { border-radius: 0 !important; }

/* Acciones */
.abmc-actions { display: flex; gap: 8px; justify-content: center; }

/* ================== RESPONSIVE ================== */
@media (width < 460px) {
  .abmc-actions { flex-wrap: wrap !important; }
  .abmc-row td, th { text-align: center; min-width: 0; overflow-wrap: break-word; }
  .abmc-row td:nth-child(4), .abmc-row th:nth-child(4) { display: none; }
}
@media (width < 408px) {
  .abmc-row td:nth-child(3), .abmc-row th:nth-child(3) { display: none; }
}

/* ==========================================================
   ORDENABLE — botón caret coherente (inactivo/activo)
   ========================================================== */
.th-sortable { position: relative; user-select: none; padding-right: 28px; pointer-events: none; }
.th-sortable .th-label { pointer-events: none; }
.th-caret-btn {
  all: unset; position: absolute; right: 6px; top: 50%; transform: translateY(-50%);
  padding: 6px; border-radius: 8px; cursor: pointer; pointer-events: auto;
  transition: background-color .15s ease, transform .15s ease;
}
.th-caret-btn:hover { background: rgba(255, 255, 255, 0.15); transform: translateY(-50%) scale(1.04); }

.th-caret {
  display: inline-block;
  width: 16px; height: 16px;
  background-repeat: no-repeat;
  background-position: center center;
  background-size: 16px 16px;
  opacity: .9;
}

/* Estado INACTIVO: ↑↓ tenues (misma estética) */
.th-sortable:not(.sorted-asc):not(.sorted-desc) .th-caret {
  background-image: url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24'>\
<path fill='%23E8EAED' opacity='.6' d='M12 5l-4 4h3v6h2V9h3z'/>\
<path fill='%23E8EAED' opacity='.6' d='M12 19l4-4h-3V9h-2v6H8z'/>\
</svg>");
}

/* Estado ASC: ↑ fuerte, ↓ tenue */
.th-sortable.sorted-asc .th-caret {
  background-image: url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24'>\
<path fill='%23E8EAED' d='M12 5l-4 4h3v10h2V9h3z'/>\
<path fill='%23E8EAED' opacity='.25' d='M12 19l4-4h-3V9h-2v6H8z'/>\
</svg>");
}

/* Estado DESC: ↓ fuerte, ↑ tenue */
.th-sortable.sorted-desc .th-caret {
  background-image: url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24'>\
<path fill='%23E8EAED' opacity='.25' d='M12 5l-4 4h3v10h2V9h3z'/>\
<path fill='%23E8EAED' d='M12 19l4-4h-3V5h-2v10H8z'/>\
</svg>");
}

.th-sortable:hover { background: var(--table-head-bg) !important; color: var(--table-head-fg) !important; }

/* ==========================================================
   BADGES Resultado/Estado (variantes por estado)
   ========================================================== */
.badge-estado, .badge-resultado {
  display: inline-block;
  min-width: 32px;
  padding: .25rem .6rem;
  border-radius: 999px;
  text-align: center;
  font-weight: 700;
  background: rgba(255,255,255,.08);
  border: 1px solid rgba(255,255,255,.12);
}

.badge-estado.accepted   { color: #1e7e34; background: rgba(30,126,52,.18); border-color: rgba(30,126,52,.35); }
.badge-estado.rejected   { color: #b23b3b; background: rgba(178,59,59,.20); border-color: rgba(178,59,59,.38); }
.badge-estado.absent     { color: #cc8a21; background: rgba(204,138,33,.18); border-color: rgba(204,138,33,.35); }
.badge-estado.sin        { color: #aeb4c0; background: rgba(174,180,192,.14); border-color: rgba(174,180,192,.25); }
